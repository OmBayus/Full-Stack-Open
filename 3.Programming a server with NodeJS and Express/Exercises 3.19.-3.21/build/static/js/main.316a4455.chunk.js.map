{"version":3,"sources":["services/people.js","Filter.jsx","PersonForm.jsx","Persons.jsx","Notification.jsx","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","onChange","value","PersonForm","onClick","onNameChange","NameValue","onNumberChange","NumberValue","type","Persons","persons","newFilter","deleteClick","map","person","name","includes","number","Notification","message","style","className","color","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","errorMessage","setErrorMessage","errorStyle","seterrorStyle","useEffect","PhoneServices","people","e","target","preventDefault","isThere","filter","length","window","confirm","returnedPerson","setTimeout","catch","error","Person","concat","find","item","parseInt","temp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.316a4455.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => {\r\n      return response.data\r\n    })\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => {\r\n      return response.data\r\n    })\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => {\r\n      return response.data\r\n    })\r\n}\r\n\r\nconst Delete = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nexport default { getAll, create, update,Delete }","import React from \"react\"\r\n\r\nconst Filter = ({onChange,value}) =>(\r\n      <div>\r\n        filter shown with <input onChange={onChange} value={value}/>\r\n      </div>\r\n)\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst PersonForm = ({onClick,onNameChange,NameValue,onNumberChange,NumberValue}) =>(\r\n      <form>\r\n        <div>\r\n          name: <input onChange={onNameChange} value={NameValue}/>\r\n        </div>\r\n        <div>number: <input onChange={onNumberChange} value={NumberValue} /></div>\r\n        <div>\r\n          <button type=\"submit\" onClick={onClick}>add</button>\r\n        </div>\r\n      </form>\r\n)\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst Persons = ({persons,newFilter,deleteClick}) =>(\r\n      <div>\r\n      {persons.map((person)=>{\r\n            if(person.name.includes(newFilter)){\r\n              return(\r\n            <div key={person.id}>{person.name} {person.number} <button onClick={deleteClick} name={person.id}>delete</button></div>\r\n            )\r\n            }\r\n          }\r\n          )}\r\n      </div>\r\n)\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nconst Notification = ({ message,style }) => {\r\n      if (message === null) {\r\n        return null\r\n      }\r\n    \r\n      return (\r\n        <div className=\"error\" style={{color:style}}>\r\n          {message}\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default Notification","import React, { useEffect, useState } from 'react'\n\n//Services\n\nimport PhoneServices from \"./services/people\"\n\n//Components\nimport Filter from \"./Filter\"\nimport PersonForm from \"./PersonForm\"\nimport Persons from \"./Persons\"\nimport Notification from \"./Notification\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState('some error happened...')\n  const [errorStyle,seterrorStyle] = useState(\"black\")\n\n\n  useEffect(()=>{\n    PhoneServices.getAll()\n      .then(people=>{\n        setPersons(people)\n      })\n  },[])\n\n  const handleName = e=>{\n    setNewName(e.target.value)\n  }\n\n  const handleNumber= e=>{\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilter= e=>{\n    setNewFilter(e.target.value)\n  }\n\n  const deleteClick = (e)=>{\n    const person = persons.find((item)=>( parseInt(item.id) === parseInt(e.target.name)))\n    var result = window.confirm(`Delete ${person.name} ?`);\n\n    if(result){\n      PhoneServices.Delete(person.id)\n        .then(()=>{\n          var temp = persons.filter((item)=> item.id !== person.id)\n          setPersons(temp)\n        })\n    }\n  }\n\n  const addPerson = (e)=>{\n\n    e.preventDefault()\n\n    const isThere = persons.filter((person)=> (person.name == newName))\n\n    if(isThere.length >= 1){\n      var result = window.confirm(`${isThere[0].name} is already added to phonebook, replace the old number with a new one?`);\n      if(result){\n        PhoneServices.update(isThere[0].id,{...isThere[0],number:newNumber})\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== isThere[0].id ? person : returnedPerson))\n            setErrorMessage(\"Changed \"+ returnedPerson.name +\"'s number\")\n            seterrorStyle(\"green\")\n            setTimeout(()=>{\n              seterrorStyle(\"black\")\n            },5000)\n          })\n          .catch(error=>{\n            setErrorMessage(\"Information of \"+ isThere[0].name +\" has already been removed from server\")\n            seterrorStyle(\"red\")\n            PhoneServices.getAll()\n              .then(people=>{\n                setPersons(people)\n              })\n            setTimeout(()=>{\n              seterrorStyle(\"black\")\n            },5000)\n          })\n      }\n    }\n    else{\n      const Person = {id:(persons.length+1),name:newName,number:newNumber}\n\n      PhoneServices.create(Person)\n        .then(returnedPerson=>{\n          setPersons(persons.concat(returnedPerson))\n          setErrorMessage(\"Added \"+ returnedPerson.name)\n          seterrorStyle(\"green\")\n          setTimeout(()=>{\n            seterrorStyle(\"black\")\n          },5000)\n        })\n    }\n    setNewName(\"\")\n    setNewNumber(\"\")\n  }\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} style={errorStyle} />\n      <Filter onChange={handleFilter} value={newFilter} />\n\n      <h3>Add a new</h3>\n      <PersonForm\n        onClick={addPerson}\n        onNameChange={handleName}\n        NameValue={newName}\n        onNumberChange={handleNumber}\n        NumberValue = {newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={persons} newFilter={newFilter} deleteClick={deleteClick}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));"],"sourceRoot":""}